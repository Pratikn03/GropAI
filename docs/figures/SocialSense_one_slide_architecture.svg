<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900" viewBox="0 0 1400 900">

<style>
  .title { font: 700 28px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; }
  .lbl { font: 600 16px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Arial; }
  .sublbl { font: 400 14px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Arial; }
  .note { font: 400 13px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #333; }
  .box { fill: #fff; stroke: #111; stroke-width: 1.5; }
  .subbox { fill: #fafafa; stroke: #666; stroke-width: 1; }
  .arrow { stroke: #111; stroke-width: 1.8; }
  .flow { font: 700 12px/1.2 system-ui; }
  .pill { fill: #fff; stroke: #111; stroke-width: 1.2; rx: 10; }
</style>


<defs>
  <marker id="arr" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
    <path d="M0,0 L10,4 L0,8 z" fill="#111" />
  </marker>
</defs>

<text x="40" y="50" class="title" text-anchor="start">SocialSense‑SLM — One‑Slide Architecture</text>
<rect x="40" y="100" width="380" height="300" rx="8" class="box"/>
<text x="56" y="128" class="lbl" text-anchor="start">Client (React/Vite)</text>
<text x="56" y="160" class="sublbl" text-anchor="start">• Chat UI (RAG answers + citations)</text>
<text x="56" y="180" class="sublbl" text-anchor="start">• Webcam/Mic tiles (WebRTC/WebSocket)</text>
<text x="56" y="200" class="sublbl" text-anchor="start">• JWT login + Privacy/Consent toggles</text>
<rect x="56" y="230" width="348" height="70" rx="8" class="subbox"/>
<text x="68" y="255" class="sublbl" text-anchor="start">Vision Panel</text>
<text x="68" y="275" class="note" text-anchor="start">Overlay: face/pose/hands • Auto-blur w/o consent</text>
<rect x="56" y="310" width="348" height="70" rx="8" class="subbox"/>
<text x="68" y="335" class="sublbl" text-anchor="start">Audio Panel</text>
<text x="68" y="355" class="note" text-anchor="start">VAD • diarization • ASR preview</text>
<rect x="480" y="80" width="440" height="520" rx="8" class="box"/>
<text x="496" y="108" class="lbl" text-anchor="start">API & Services (FastAPI)</text>
<rect x="496" y="130" width="408" height="90" rx="8" class="subbox"/>
<text x="508" y="155" class="sublbl" text-anchor="start">Routers</text>
<text x="508" y="175" class="note" text-anchor="start">/auth /privacy /chat /vision /audio /rag /metrics /train /telemetry</text>
<rect x="496" y="230" width="408" height="90" rx="8" class="subbox"/>
<text x="508" y="255" class="sublbl" text-anchor="start">Security & Privacy</text>
<text x="508" y="275" class="note" text-anchor="start">JWT auth • Consent ledger • Face‑blur service</text>
<rect x="496" y="330" width="408" height="120" rx="8" class="subbox"/>
<text x="508" y="355" class="sublbl" text-anchor="start">Model Serving</text>
<text x="508" y="375" class="note" text-anchor="start">ONNX Runtime (Vision) • LightGBM (Tabular)</text>
<text x="508" y="395" class="note" text-anchor="start">ASR/Speaker • Small LLM + RAG</text>
<rect x="496" y="460" width="408" height="100" rx="8" class="subbox"/>
<text x="508" y="485" class="sublbl" text-anchor="start">Observability</text>
<text x="508" y="505" class="note" text-anchor="start">Metrics store • /telemetry • SHAP/Grad‑CAM reports</text>
<rect x="960" y="100" width="400" height="320" rx="8" class="box"/>
<text x="976" y="128" class="lbl" text-anchor="start">Storage & Indexes</text>
<rect x="976" y="150" width="368" height="90" rx="8" class="subbox"/>
<text x="988" y="175" class="sublbl" text-anchor="start">Datasets (DVC → Google Drive)</text>
<text x="988" y="195" class="note" text-anchor="start">Shards: images/audio/text/tabular • Split JSONs</text>
<rect x="976" y="250" width="368" height="120" rx="8" class="subbox"/>
<text x="988" y="275" class="sublbl" text-anchor="start">RAG & Model Artifacts</text>
<text x="988" y="295" class="note" text-anchor="start">sqlite‑vss / FAISS index • ONNX • LGBM folds</text>
<text x="988" y="315" class="note" text-anchor="start">(Mirror) GCS/S3 bucket for speed/backup</text>
<rect x="960" y="460" width="400" height="220" rx="8" class="box"/>
<text x="976" y="488" class="lbl" text-anchor="start">Training & Evaluation</text>
<rect x="976" y="510" width="368" height="150" rx="8" class="subbox"/>
<text x="988" y="535" class="sublbl" text-anchor="start">Pipelines</text>
<text x="988" y="555" class="note" text-anchor="start">Leakage‑safe splits • FE • AutoML + Boosters</text>
<text x="988" y="575" class="note" text-anchor="start">PyTorch CV → ONNX • Optuna HPO (LightGBM)</text>
<text x="988" y="595" class="note" text-anchor="start">Stats (CI/CI) • SHAP/Grad‑CAM reports</text>
<rect x="976" y="670" width="368" height="50" rx="8" class="subbox"/>
<text x="988" y="700" class="note" text-anchor="start">NVMe cache (train from local, never stream from Drive)</text>
<rect x="408" y="114" width="24" height="24" class="pill"/><text x="420" y="130" class="flow" text-anchor="middle">1</text>
<line x1="420" y1="130" x2="480" y2="110" class="arrow" marker-end="url(#arr)"/>
<rect x="408" y="154" width="24" height="24" class="pill"/><text x="420" y="170" class="flow" text-anchor="middle">2</text>
<line x1="420" y1="170" x2="480" y2="260" class="arrow" marker-end="url(#arr)"/>
<rect x="408" y="264" width="24" height="24" class="pill"/><text x="420" y="280" class="flow" text-anchor="middle">3</text>
<line x1="420" y1="280" x2="480" y2="380" class="arrow" marker-end="url(#arr)"/>
<rect x="408" y="324" width="24" height="24" class="pill"/><text x="420" y="340" class="flow" text-anchor="middle">4</text>
<line x1="420" y1="340" x2="480" y2="390" class="arrow" marker-end="url(#arr)"/>
<rect x="408" y="204" width="24" height="24" class="pill"/><text x="420" y="220" class="flow" text-anchor="middle">5</text>
<line x1="420" y1="220" x2="480" y2="370" class="arrow" marker-end="url(#arr)"/>
<rect x="908" y="364" width="24" height="24" class="pill"/><text x="920" y="380" class="flow" text-anchor="middle">5</text>
<line x1="920" y1="380" x2="960" y2="310" class="arrow" marker-end="url(#arr)"/>
<rect x="908" y="494" width="24" height="24" class="pill"/><text x="920" y="510" class="flow" text-anchor="middle">6</text>
<line x1="920" y1="510" x2="960" y2="310" class="arrow" marker-end="url(#arr)"/>
<rect x="948" y="534" width="24" height="24" class="pill"/><text x="960" y="550" class="flow" text-anchor="middle">7</text>
<line x1="960" y1="550" x2="1360" y2="190" class="arrow" marker-end="url(#arr)"/>
<rect x="948" y="574" width="24" height="24" class="pill"/><text x="960" y="590" class="flow" text-anchor="middle">8</text>
<line x1="960" y1="590" x2="1360" y2="290" class="arrow" marker-end="url(#arr)"/>
<rect x="948" y="274" width="24" height="24" class="pill"/><text x="960" y="290" class="flow" text-anchor="middle">9</text>
<line x1="960" y1="290" x2="920" y2="380" class="arrow" marker-end="url(#arr)"/>
<text x="40" y="450" class="lbl" text-anchor="start">Flow Legend</text>
<text x="40" y="480" class="sublbl" text-anchor="start">1. 1 Login (JWT)</text>
<text x="40" y="502" class="sublbl" text-anchor="start">2. 2 Consent update (ledger)</text>
<text x="40" y="524" class="sublbl" text-anchor="start">3. 3 Webcam frames → Vision (auto‑blur if no consent)</text>
<text x="40" y="546" class="sublbl" text-anchor="start">4. 4 Mic chunks → Audio (ASR/diarization)</text>
<text x="40" y="568" class="sublbl" text-anchor="start">5. 5 Chat → RAG search → Answer with citations</text>
<text x="40" y="590" class="sublbl" text-anchor="start">6. 6 Metrics & Explainability artifacts (SHAP/Grad‑CAM)</text>
<text x="40" y="612" class="sublbl" text-anchor="start">7. 7 Training reads shards (NVMe cache)</text>
<text x="40" y="634" class="sublbl" text-anchor="start">8. 8 Exports models (ONNX/LGBM)</text>
<text x="40" y="656" class="sublbl" text-anchor="start">9. 9 API loads latest models for serving</text>
</svg>